<?xml version="1.0" encoding="UTF-8"?>
<Module>
    <ModulePrefs
            title="XING Video Messaging + Text Chat"
            author="Christopher Blum, Ali Jelveh, Phillip Oertel"
            author_email="christopher.blum@xing.com, ali.jelveh@xing.com, phillip.oertel@xing.com"
            description="awesome.">
        <Require feature="opensocial-0.8" />
        <Require feature="views" />
        <Require feature="flash" />
        <Require feature="dynamic-height" />
        <Require feature="minimessage" />
        <Require feature="tabs" />
    </ModulePrefs>
    <Content type="html" view="home"><![CDATA[<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
         "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
    <html xmlns="http://www.w3.org/1999/xhtml">
      <head>
        <link rel="stylesheet" href="http://localhost:8080/bikinibottom_os/css/common.css" type="text/css" charset="utf-8" />
        <link rel="stylesheet" href="http://localhost:8080/bikinibottom_os/css/home.css" type="text/css" charset="utf-8" />
        <script src="https://ajax.googleapis.com/ajax/libs/prototype/1.6.0.3/prototype.js" type="text/javascript" charset="utf-8"></script>
        <script type="text/javascript" charset="utf-8">
          // Mock OSDE
          if (gadgets.util.getUrlParameters().container == "default") {
            document.write('<script src="http://localhost:8080/bikinibottom_os/js/persistent_fix.js" type="text/javascript" charset="utf-8"' + '><' + '/script>');
          }
        </script>
        <script src="http://localhost:8080/bikinibottom_os/js/common.js" type="text/javascript" charset="utf-8"></script>
        <script src="http://localhost:8080/bikinibottom_os/js/social_data.js" type="text/javascript" charset="utf-8"></script>
        <script src="http://localhost:8080/bikinibottom_os/js/home.js" type="text/javascript" charset="utf-8"></script>
        <script src="http://localhost:8080/bikinibottom_os/js/text_chat.js" type="text/javascript" charset="utf-8"></script>
      </head>
      <body id="home">
        <script type="text/javascript" charset="utf-8">
          // Unfortunately gadgets.TabsSet uses document.write
          _tabs = new gadgets.TabSet(__MODULE_ID__);
          xing.bikinibottom.moduleId = __MODULE_ID__;
        </script>
        
        <div id="new" style="display: none;">
          <form id="message-form">
            <label for="recipient">Recipient [RES]</label>
            <select id="recipient" name="recipient">
              <option value="">-- Please select [RES] --</option>
            </select>
            <label for="subject">Subject [RES]</label>
            <input type="text" id="subject" name="subject" value="" maxlength="50" />
            <label id="flash-recorder-label" for="flash-recorder" style="display: none;">Video message [RES]</label>
            <div id="flash-recorder" style="display: none;">You need at least flash player version 10 to record a video. Get it <a href="http://get.adobe.com/de/flashplayer/" target="_blank">here</a>. [RES]</div>
            <input id="submit-new" type="submit" name="submit-new" value="Add Video [RES]" /> <input id="reset-new" type="reset" name="reset-new" value="Reset [RES]" /> 
          </form>
        </div>
        
        <div id="text-chat" style="display: none;">
          <form id="text-chat-form">
            <label for="text-chat-partner">Chat Partner [RES]</label>
            <select id="text-chat-partner" name="text-chat-partner">
              <option>-- Please select [RES] --</option>
            </select>
            <label for="text-chat-message">Message [RES]</label>
            <input type="text" id="text-chat-message" name="text-chat-message" value="" autocomplete="off" />
            <input type="submit" name="text-chat-send" value="Send [RES]" />
            <div id="text-chat-conversation" style="height:100px;overflow:auto;border:1px solid #999;">
            </div>
          </form>
        </div>
        
        <div id="inbox" style="display: none;">
          <div id="inbox-list"></div>
          <div id="inbox-message-player" style="display: none;">
            <h3 id="inbox-flash-player-label">#{subject} <br /><span>(#{senderName}, #{date})</span></h3>
            <div id="inbox-flash-player">You need at least flash player version 10 to record a video. Get it <a href="http://get.adobe.com/de/flashplayer/" target="_blank">here</a>. [RES]</div>
            <div>
              &laquo; <a id="inbox-flash-payer-back" class="back-link" href="#">back [RES]</a>
            </div>
          </div>
        </div>
        
        <div id="outbox" style="display: none;">
          <div id="outbox-list"></div>
          <div id="outbox-message-player" style="display: none;">
            <h3 id="outbox-flash-player-label">#{subject} <br /><span>(#{recipientName}, #{date})</span></h3>
            <div id="outbox-flash-player">You need at least flash player version 10 to record a video. Get it <a href="http://get.adobe.com/de/flashplayer/" target="_blank">here</a>. [RES]</div>
            <div>
              &laquo; <a id="outbox-flash-payer-back" class="back-link" href="#">back [RES]</a>
            </div>
          </div>
        </div>
        
        <script type="text/javascript" charset="utf-8">
          gadgets.util.registerOnLoadHandler(function() {
            xing.bikinibottom.Home.initialize({
              tabs: _tabs
            });
          });
        </script>
        
        <script type="text/javascript" src="http://localhost:8080/bikinibottom_os/js/dispatching.js"></script>        
        <script type="text/javascript">
          var Dispatcher = new DispatchingSystem('127.0.0.1', '', '');
        </script>
      </body>
    </html>]]></Content>
</Module>